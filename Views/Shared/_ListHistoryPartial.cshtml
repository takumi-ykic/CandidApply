@model CandidApply.Models.Application;

<tr class="border-bottom">
    <td>
        @Html.DisplayFor(model => model.jobTitle)
    </td>
    <td>
        @Html.DisplayFor(model => model.company)
    </td>
    <td>
        @Model.applicationDate.ToString("MMM-dd-yy")
    </td>
    <td>
        @Html.DisplayFor(model => model.ApplicationStatus.statusName)
    </td>
    <td>
        @{
            if (Model.ApplicationFile != null)
            {
                if (@Model.ApplicationFile.resume == null)
                {
                    <text>No Resume file uploaded</text>
                }
                else
                {
                    <a asp-action="Download" asp-controller="Histories" asp-route-filename="@Model.ApplicationFile.resume">Resume</a>
                }
            }
        }
    </td>
    <td>
        @{
            if (Model.ApplicationFile != null)
            {
                if (@Model.ApplicationFile.coverLetter == null)
                {
                    <text>No Cover Letter file uploaded</text>
                }
                else
                {
                    <a asp-action="Download" asp-controller="Histories" asp-route-filename="@Model.ApplicationFile.coverLetter">Cover Letter</a>
                }
            }
        }
    </td>
    <td>
        <a class="btn btn-info" asp-action="Details" asp-controller="Histories" asp-route-applicationId="@Model.applicationId"
           asp-route-currentKeyword="@ViewData["FilterKeyword"]"
           asp-route-filterStatus="@ViewData["FilterStatus"]"
           asp-route-ordering="@ViewData["CurrentOrder"]"
           asp-route-pageNum=@ViewData["CurrentPage"]>Details</a>
    </td>
</tr>

